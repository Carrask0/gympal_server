"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3256],{3256:(P,u,i)=>{i.r(u),i.d(u,{EstadisticasPage:()=>O});var e=i(4496),E=i(1368),_=i(4716),s=i(1956),m=i(7476),v=i(740),d=i(36),C=i(764),h=i(4848);function f(r,l){if(1&r){const n=e.KQA();e.I0R(0,"p",16),e.qCj("click",function(){const c=e.usT(n).$implicit,o=e.GaO();return e.CGJ(o.onClickExercise(c._id))}),e.OEk(1),e.C$Y()}if(2&r){const n=l.$implicit;e.yG2(),e.cNF(n.name)}}let O=(()=>{var r;class l{onClickExercise(t){this.repositoryService.setExerciseId(t),this.router.navigate(["/estadisticas-ejercicio"])}computeTotalVolume(t){let a={};t.forEach(o=>{let p=o.date;a[p]||(a[p]=0),o.exercises.forEach(g=>{let x=g.kgs*g.reps*g.sets;a[String(p)]+=x})});let c=[];for(let o in a)c.push({name:o,value:a[o]});return c}constructor(t){this.router=t,this.repositoryService=(0,e.uUt)(h.g),this.exercises=[],this.volumenTotal=[],this.lineChartData={labels:[],datasets:[{data:[],label:"Total volume",fill:!1,tension:.5,borderColor:"#39AFAC",backgroundColor:"#39AFAC"}]},this.lineChartOptions={scales:{y:{suggestedMin:0,beginAtZero:!0,suggestedMax:25e3},x:{display:!1}},responsive:!1},this.lineChartLegend=!1,(0,m.a)({arrowBack:v.wvf})}ngOnInit(){this.repositoryService.getExercises().subscribe(t=>{this.exercises=t}),this.repositoryService.getSessions().subscribe(t=>{let a={name:"Volumen total",series:this.computeTotalVolume(t)};this.lineChartData.datasets[0].data=a.series.map(c=>c.value),this.lineChartData.labels=new Array(a.series.length).fill("")})}}return(r=l).\u0275fac=function(t){return new(t||r)(e.GI1(d.E5))},r.\u0275cmp=e.In1({type:r,selectors:[["app-estadisticas"]],standalone:!0,features:[e.UHJ],decls:26,vars:5,consts:[[3,"fullscreen"],[1,"page"],[1,"arrow-back-area"],["name","arrow-back","routerLink","/principal",1,"arrow-back"],[1,"statistics-content"],[1,"text-title-white"],[2,"display","block"],["baseChart","","width","350","height","250",3,"type","data","options","legend"],[1,"exercise-area"],[1,"exercise-area-header"],["placeholder","Ordenar por:","interface","popover","aria-label","Ordenar por",1,"select"],["value","peso-max"],["value","grupo-muscular"],["value","orden-alfa"],["value","volumen-medio"],[1,"exercise-list"],[1,"exercise-button",3,"click"],["class","exercise-button"]],template:function(t,a){1&t&&(e.I0R(0,"ion-content",0)(1,"div",1)(2,"div",2),e.wR5(3,"ion-icon",3),e.C$Y(),e.I0R(4,"div",4)(5,"p",5),e.OEk(6,"Volumen total"),e.C$Y(),e.I0R(7,"div",6),e.wR5(8,"canvas",7),e.C$Y()(),e.I0R(9,"div",8)(10,"div",9)(11,"p",5),e.OEk(12,"Ejercicios"),e.C$Y(),e.I0R(13,"ion-item")(14,"ion-select",10)(15,"ion-select-option",11),e.OEk(16,"Peso m\xe1ximo"),e.C$Y(),e.I0R(17,"ion-select-option",12),e.OEk(18,"Grupo muscular"),e.C$Y(),e.I0R(19,"ion-select-option",13),e.OEk(20,"Orden alfab\xe9tico"),e.C$Y(),e.I0R(21,"ion-select-option",14),e.OEk(22,"Volumen medio"),e.C$Y()()()(),e.I0R(23,"div",15),e.c53(24,f,2,1,"p",17,e.oxv),e.C$Y()()()()),2&t&&(e.E7m("fullscreen",!0),e.yG2(8),e.E7m("type","line")("data",a.lineChartData)("options",a.lineChartOptions)("legend",a.lineChartLegend),e.yG2(16),e.oho(a.exercises))},dependencies:[s.wZ,s._i,s.Ko,s.Yb,s.Cy,s.gd,s.IT,s.mY,E.MD,_.y,d.qQ,d.ER,C.YR],styles:[".statistics-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0}.exercise-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:20px;margin-right:20px}.exercise-area-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}ion-select[_ngcontent-%COMP%]{--background: var(--teal500);--color: var(--grey700);--placeholder-color: var(--grey700);--icon-color: var(--grey700);--border-radius: 20px;--placeholder-opacity: 1;--padding-start: 20px;--padding-end: 20px}ion-select[_ngcontent-%COMP%]::part(text){color:var(--grey700);opacity:1;margin:10px;align-self:center;font-weight:700}ion-select[_ngcontent-%COMP%]::part(icon){color:var(--grey700);opacity:1}.exercise-button[_ngcontent-%COMP%]{color:var(--grey700);font-weight:700;font-size:1.5em;margin-left:16px;border-radius:20px;padding:10px;background-color:var(--teal500);text-align:center}.exercise-button[_ngcontent-%COMP%]:hover{background-color:#fff}"]}),l})()}}]);